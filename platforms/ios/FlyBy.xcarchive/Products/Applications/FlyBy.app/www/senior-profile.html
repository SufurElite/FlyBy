<!--<h1>Senior Profile</h1>
<a href="map.html">Go to Map</a>-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Flyby</title>
    <!-- Path to Framework7 Library CSS-->
    <link rel="stylesheet" href="css/framework7.ios.min.css">
    <!-- Path to your custom app styles-->
    <link rel="stylesheet" href="css/my-app.css">
    <link rel="stylesheet" href="css/framework7.ios.colors.min.css">
  </head>
  <body>
    <!-- Views-->
    <div class="views">
      <!-- Your main view, should have "view-main" class-->
      <div class="view view-main">
        <!-- Top Navbar-->
        <div class="navbar">
          <!-- Navbar inner for Index page-->
          <div data-page="index" class="navbar-inner">
            <!-- We have home navbar without left link-->
            <div class="center sliding">Flyby</div>
          </div>
          <!-- Navbar inner for About page-->
          <div data-page="info" class="navbar-inner cached">
            <div class="left sliding"><a href="#" class="back link"> <i class="icon icon-back"></i><span>Back</span></a></div>
            <div class="center sliding">Your Information</div>
          </div>
          <!-- Navbar inner for Services page-->
          <div data-page="schedule" class="navbar-inner cached">
            <div class="left sliding"><a href="#" class="back link"> <i class="icon icon-back"></i><span>Back</span></a></div>
            <div class="center sliding">Scheduled Rides</div>
          </div>
          <!-- Navbar inner for Form page-->
          <div data-page="form" class="navbar-inner cached">
            <div class="left sliding"><a href="#" class="back link"> <i class="icon icon-back"></i><span>Back</span></a></div>
            <div class="center sliding">Request a Ride</div>
          </div>

        </div>
        <!-- Pages, because we need fixed-through navbar and toolbar, it has additional appropriate classes-->
        <div class="pages navbar-through toolbar-through">
          <!-- Index Page-->
          <div data-page="senior-profile" class="page">
            <!-- Scrollable page content-->
            <div class="page-content">
              <div class="content-block-title">Profile</div>
              <div class="content-block">
                <div class="content-block-inner">
                  <p>To see all the information you've provided, tap on "All my Information".</p>
                  <p>In order to schedule a ride, tap on "Make a Ride Request".</p>
                  <p>In order to see your upcoming rides, just tap on your "Schedule".</p>
                </div>
              </div>
              <div class="content-block-title">Control Center</div>

                  <a href="#info" class="button button-big button-fill">
                        <div class="item-inner">
                          <div class="col-50">All My Information</div>
                      </div></a>
                    <br>
                  <a href="#form" class="button button-big">
                      <div class="item-content">
                        <div class="item-inner">
                          <div class="col-50">Make a Ride Request</div>
                        </div>
                      </div></a>
                    <br>
                  <a href="#schedule" class="button button-big button-fill">
                        <div class="item-inner">
                          <div class="col-50">Scheduled Rides</div>
                      </div></a>
                      <br>
                  <a class="button button-big button-fill color-red" id="logout">Logout</a>
            </div>
          </div>
          <!-- Info Page-->
          <div data-page="info" class="page cached">
            <div class="page-content">
              <div class="content-block">
                  <div class="list-block">
                <ul>
                    <li>
                     <div class="item-content">
                      <div class="item-media"></div>
                      <div class="item-inner">
                        <div class="item-title label">Name</div>
                        <p id="name"></p>
                      </div>
                    </div>
                    </li>
                    <li>
                     <div class="item-content">
                      <div class="item-media"></div>
                      <div class="item-inner">
                        <div class="item-title label">Age</div>
                        <p id="age"></p>
                      </div>
                    </div>
                    </li>
                    <li>
                     <div class="item-content">
                      <div class="item-media"></div>
                      <div class="item-inner">
                        <div class="item-title label">Phone Number</div>
                        <p id="phone"></p>
                      </div>
                    </div>
                    </li>
                    <li>
                     <div class="item-content">
                      <div class="item-media"></div>
                      <div class="item-inner">
                        <div class="item-title label">Hospital</div>
                        <p id="hospital"></p>
                      </div>
                    </div>
                    </li>
                    <li>
                     <div class="item-content">
                      <div class="item-media"></div>
                      <div class="item-inner">
                        <div class="item-title label">Uses a Cane</div>
                        <p id="has_cane"></p>
                      </div>
                    </div>
                    </li>
                    <li>
                     <div class="item-content">
                      <div class="item-media"></div>
                      <div class="item-inner">
                        <div class="item-title label">Uses a Walker</div>
                        <p id="has_walker"></p>
                      </div>
                    </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <!-- Schedule Page-->
          <div data-page="schedule" class="page cached">
            <div class="page-content">
              <p><a onclick="getRides()" class="button button-round">Refresh Rides</a></p>
              <div id="schedule"></div>
            </div>
          </div>
          <!-- Form Page-->
          <div data-page="form" class="page cached">
            <div class="page-content">
              <div class="list-block">
                <form id= "RideForm">
                <p>You can either choose to request a car ride as soon to right now as possible or schedule a date</p>

                <div class="content-block-title">As soon as possible</div>
                <ul>
                    <li>
                        <div class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Right Now</div>
                        <div class="item-input">
                          <label class="label-switch">
                            <input type="checkbox" id="actualcheckbox">
                            <div class="checkbox" id="check"></div>
                          </label>
                        </div>
                      </div>
                    </div>
                    </li>
                </ul>

                <div class="content-block-title">Schedule a Date</div>
                <ul id = "list">
                  <li id = "calendarDate">
                    <div class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Date of Ride</div>
                        <div class="item-input">
                          <input type="text" placeholder="Date of Ride" readonly id="calendar">
                        </div>
                      </div>
                    </div>
                  </li>
                  <li>
                    <div class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Hour</div>
                        <div class="item-input">
                          <select id="hours">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li>
                    <div class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Quarter Hour</div>
                        <div class="item-input">
                          <select id="minutes">
                            <option value="0">00</option>
                            <option value="15">15</option>
                            <option value="30">30</option>
                            <option value="45">45</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li>
                    <div class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">AM/PM</div>
                        <div class="item-input">
                          <select id="ampm">
                            <option value="AM">AM</option>
                            <option value="PM">PM</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </li>
                  </ul>
                </form>
              </div>

             <div class="content-block">
                <div class="row">
                  <div class="col-100">
                    <input type="submit" value="Select Pickup and Destination" id = "requestSubmit" onclick = "destination()" class="button button-big button-fill color-green">
                  </div> <!--When this button is tapped it fills part of a json with the information provided here, but the rest of the json will be filed out in the submit button in maps.html-->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script>
    // Fill user's information in p tags
    var user = JSON.parse(localStorage.user);
    $('#name').text(user.name);
    $('#age').text(user.age);
    $('#phone').text(user.phone);
    $('#hospital').text(user.hospital);
    $('#has_walker').text(user.has_walker);
    $('#has_cane').text(user.has_cane);

    // Grey out time scheduling if "Right Now" is checked
    $('#check').click(function() {
      if($('#actualcheckbox').is(':checked')) {
        $('#list').attr('disabled', false);
      } else {
        $('#list').attr('disabled', true);
      }
    });

    // Logout user
    $('#logout').click(function() {
      localStorage.removeItem('user');
      alert('Logged out');
      window.location.href = 'index.html';
    });

    function getRides() {
      var user = JSON.parse(localStorage.user);

      $.get('https://flybyapp.herokuapp.com/scheduled-rides/' + user.username, function(data) {
        $('#schedule').html('');

        data = JSON.parse(data);

        for(var i in data) {
          // Individual ride request
          var rr = JSON.parse(data[i]);

          // Place ride requests on page
          var date = new Date(rr.ride_date);
          var content = 'Pickup Location: ' + rr.origin + '<br>Destination: ' + rr.destination + '<br>Date & Time: ' + date.toLocaleString();
          var card = $('<div class="card"><div class="card-content"><div class="card-content-inner">' + content + '</div></div></div>');
          $('#schedule').append(card);
        }
      });
    }
    </script>

    <!-- Path to Framework7 Library JS-->
    <script type="text/javascript" src="js/framework7.min.js"></script>
    <!-- Path to your app js-->
    <script type="text/javascript" src="js/other.js"></script>
  </body>
</html>